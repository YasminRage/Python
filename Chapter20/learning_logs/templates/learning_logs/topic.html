{% extends "learning_logs/base.html" %}

{% block page_header %}
  <h1 class="mb-3">{{ topic.text }}</h1>
{% endblock page_header %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h5 class="text-muted mb-0">Entries</h5>
    <a href="{% url 'learning_logs:new_entry' topic.id %}" class="btn btn-primary btn-sm">
      + Add new entry
    </a>
  </div>

  {% if entries %}
    {% for entry in entries %}
      <div class="card mb-3 shadow-sm">
        <div class="card-header d-flex justify-content-between align-items-center">
          <span class="text-muted">
            {{ entry.date_added|date:"M d, Y H:i" }}
          </span>
          <a href="{% url 'learning_logs:edit_entry' entry.id %}"
             class="small text-decoration-none">
            Edit
          </a>
        </div>

        <div class="card-body">
          {{ entry.text|linebreaks }}
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p class="text-muted">
      There are no entries for this topic yet.
    </p>
  {% endif %}
{% endblock content %}
